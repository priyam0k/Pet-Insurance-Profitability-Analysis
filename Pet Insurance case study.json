{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Pet Insurance Profitability Analysis: A Ratemaking and Reserving Study\n",
    "\n",
    "## 1. Business Problem\n",
    "A hypothetical insurer, \"Pawtect Insurance,\" wants to launch a new pet insurance product. The company needs to establish a profitable pricing structure and estimate the required reserves for future claims. This project will develop a comprehensive actuarial analysis to address these needs."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## 2. Project Setup and Data Generation\n",
    "First, we'll import the necessary libraries and generate a synthetic dataset of 10,000 pet insurance policies. This data will serve as the basis for our analysis."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 1,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "--- Synthetic Data Generated ---\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>policy_id</th>\n",
       "      <th>pet_age</th>\n",
       "      <th>pet_breed</th>\n",
       "      <th>location</th>\n",
       "      <th>coverage_level</th>\n",
       "      <th>policy_year</th>\n",
       "      <th>claims_incurred</th>\n",
       "      <th>annual_premium</th>\n",
       "      <th>claim_status</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>1</td>\n",
       "      <td>7</td>\n",
       "      <td>Labrador</td>\n",
       "      <td>Urban</td>\n",
       "      <td>Standard</td>\n",
       "      <td>2020</td>\n",
       "      <td>0.0</td>\n",
       "      <td>340.0</td>\n",
       "      <td>Outstanding</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>2</td>\n",
       "      <td>4</td>\n",
       "      <td>Poodle</td>\n",
       "      <td>Rural</td>\n",
       "      <td>Standard</td>\n",
       "      <td>2023</td>\n",
       "      <td>0.0</td>\n",
       "      <td>280.0</td>\n",
       "      <td>Outstanding</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>3</td>\n",
       "      <td>13</td>\n",
       "      <td>Poodle</td>\n",
       "      <td>Suburban</td>\n",
       "      <td>Premium</td>\n",
       "      <td>2020</td>\n",
       "      <td>0.0</td>\n",
       "      <td>460.0</td>\n",
       "      <td>Outstanding</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>4</td>\n",
       "      <td>11</td>\n",
       "      <td>Mixed</td>\n",
       "      <td>Urban</td>\n",
       "      <td>Premium</td>\n",
       "      <td>2022</td>\n",
       "      <td>0.0</td>\n",
       "      <td>420.0</td>\n",
       "      <td>Outstanding</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>5</td>\n",
       "      <td>8</td>\n",
       "      <td>Mixed</td>\n",
       "      <td>Rural</td>\n",
       "      <td>Basic</td>\n",
       "      <td>2020</td>\n",
       "      <td>0.0</td>\n",
       "      <td>360.0</td>\n",
       "      <td>Outstanding</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "   policy_id  pet_age pet_breed  location coverage_level  policy_year  \\\n",
       "0          1        7  Labrador     Urban       Standard         2020   \n",
       "1          2        4    Poodle     Rural       Standard         2023   \n",
       "2          3       13    Poodle  Suburban        Premium         2020   \n",
       "3          4       11     Mixed     Urban        Premium         2022   \n",
       "4          5        8     Mixed     Rural          Basic         2020   \n",
       "\n",
       "   claims_incurred  annual_premium claim_status  \n",
       "0              0.0           340.0  Outstanding  \n",
       "1              0.0           280.0  Outstanding  \n",
       "2              0.0           460.0  Outstanding  \n",
       "3              0.0           420.0  Outstanding  \n",
       "4              0.0           360.0  Outstanding  "
      ]
     },
     "execution_count": 1,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "import pandas as pd\n",
    "import numpy as np\n",
    "import statsmodels.api as sm\n",
    "import matplotlib.pyplot as plt\n",
    "import seaborn as sns\n",
    "\n",
    "# --- 1. Data Generation ---\n",
    "np.random.seed(42)\n",
    "num_policies = 10000\n",
    "\n",
    "data = {\n",
    "    'policy_id': range(1, num_policies + 1),\n",
    "    'pet_age': np.random.randint(1, 15, size=num_policies),\n",
    "    'pet_breed': np.random.choice(['Labrador', 'Poodle', 'Mixed', 'Bulldog', 'Beagle'], size=num_policies),\n",
    "    'location': np.random.choice(['Urban', 'Rural', 'Suburban'], size=num_policies),\n",
    "    'coverage_level': np.random.choice(['Basic', 'Standard', 'Premium'], size=num_policies),\n",
    "    'policy_year': np.random.randint(2020, 2024, size=num_policies)\n",
    "}\n",
    "\n",
    "df = pd.DataFrame(data)\n",
    "\n",
    "def generate_claims(row):\n",
    "    base_freq = 0.1\n",
    "    base_sev = 500\n",
    "    age_factor = 1 + (row['pet_age'] * 0.05)\n",
    "    breed_factor = {'Labrador': 1.2, 'Poodle': 0.9, 'Mixed': 1.0, 'Bulldog': 1.5, 'Beagle': 0.8}.get(row['pet_breed'], 1)\n",
    "    location_factor = {'Urban': 1.3, 'Rural': 0.8, 'Suburban': 1.1}.get(row['location'], 1)\n",
    "    claim_freq = base_freq * age_factor * breed_factor * location_factor\n",
    "    claim_sev = base_sev * age_factor * breed_factor * location_factor\n",
    "    num_claims = np.random.poisson(claim_freq)\n",
    "    claims_incurred = sum(np.random.gamma(2, scale=claim_sev/2, size=num_claims))\n",
    "    return claims_incurred\n",
    "\n",
    "df['claims_incurred'] = df.apply(generate_claims, axis=1)\n",
    "df['annual_premium'] = 200 + (df['pet_age'] * 20) + df['claims_incurred'].apply(lambda x: max(0, x * np.random.uniform(0.3, 0.6)))\n",
    "df['claim_status'] = df['claims_incurred'].apply(lambda x: 'Paid' if x > 0 and np.random.rand() > 0.3 else 'Outstanding')\n",
    "\n",
    "print(\"--- Synthetic Data Generated ---\")\n",
    "df.head()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## 3. Ratemaking Analysis\n",
    "In this section, we'll perform an exploratory data analysis (EDA) to understand the key drivers of claims. We will then build a Generalized Linear Model (GLM) to create a risk-based pricing structure."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "image/png": "iVBORw0KGgoAAAANSUhEUgAAA/8AAAIjCAYAAABViau2AAAAOnRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjEwLjUsIGh0dHBzOi8vbWF0cGxvdGxpYi5vcmcvWftoOwAAAAlwSFlzAAAPYQAAD2EBqD+naQAAVRFJREFUeJzt3QecXGXZN+B7WzaNJCShSuhILwIKKGABqSoIKghIFVFBKQqC0hQEBUGqYCPAB0p5X0AE6VW69CJv6EUgFCkhgSS72fl+z5OdYTeNZLNkd8+5rp/jzJw5c+bMnJmw/3M/pa5SqVQCAAAAKKz6nt4BAAAA4KMl/AMAAEDBCf8AAABQcMI/AAAAFJzwDwAAAAUn/AMAAEDBCf8AAABQcMI/AAAAFJzwDwAAAAUn/APQ6x155JFRV1c3T17rc5/7XL5U3Xzzzfm1/+d//meevP6uu+4aSy65ZPRm48ePj29/+9ux8MIL589mv/3265btnn322Xl7zz33XCE/t7KYl79XAGaf8A/APFUNeNVL//79Y9FFF41NN900TjnllHj33Xe75XVefvnlHEIefPDB6G16877NjmOOOSYfx+9973vx//7f/4tvfetbs1x/ypQpMXr06HxSZfjw4dHc3JyD+m677Rb33ntvFE16n6usskpP7wYAdNLY+S4AzBu/+MUvYqmlloqWlpYYO3ZsrrCnCvKJJ54Yl19+eay22mq1dQ899NA4+OCD5zhg//znP88hc4011pjt51177bXxUZvVvv3xj3+Mtra26M1uvPHGWHfddeOII4740HXff//92GabbeLqq6+ODTfcMH7605/mEwCpun/RRRfFOeecEy+88EIstthic7VPfeFzA4CeJPwD0CM233zzWHvttWv3DznkkBwqv/SlL8VXvvKVePzxx2PAgAH5scbGxnz5KL333nsxcODA6NevX/Skpqam6O1ee+21WGmllWZr3QMPPDAH/9/+9rfTdQ9IJw/S8rJ8br1BpVKJiRMn1n5bHaXl6ftfX69hKEAR+dcdgF7jC1/4Qhx22GHx/PPPx3nnnTfLPsTXXXddrL/++jFs2LAYPHhwLL/88rmqnKRWBJ/85Cfz7dS0vNrFIDVV79gs+7777svV6BT6q8+dts9/x6braZ3Uz33QoEH5BMWLL77YaZ1UyU99z6fVcZsftm8z6rs+YcKE+NGPfhSjRo3KTebTe/3Nb36Tg1xHaTv77LNPXHbZZfn9pXVXXnnlHL5nN9TvsccesdBCC+XuGKuvvnquzE87/sGzzz4bV155ZW3fZ9ZH/z//+U/8/ve/jy9+8YszHBegoaEhfvzjH8+y6v+3v/0tttxyy9w1JL2fZZZZJo466qh8PDqa9nNL+5T2LX1Op59+eiy99NL5OG+yySb5uKXPLm0nvXYKwltttVW8+eabnbaZuiSk7igjR47M66SWKrvvvnt0xZwcm5deeikfh+p7Tq+bulhMnjx5ln3qZzRmQvpM0gm1a665Jp9sS+8jHZPqsbzgggtyy5qPfexj+fMZN25cft7dd98dm222WQwdOjQv/+xnPxu33377dK9522235e9z+r6kY5O2DUDvpPIPQK+S+o+nkJ2a3++5554zXOexxx7LgSZ1DUjdB1JAeuqpp2rhZMUVV8zLDz/88PjOd74TG2ywQV7+6U9/uraN//73v7n1wfbbbx877bRTDryz8stf/jKHpZ/85Cc5JJ900kmx8cYb5377M6qizszs7FtHKaSmEw033XRTDoSpm0AKcqminkLitJXzFMYuueSS+P73vx/zzTdfHkdh2223zU3rR4wYMcvm+ekERfocU0hNgfPiiy/Oofrtt9+OfffdN+976uO///7759CcTkgkCyywwAy3edVVV0Vra+uHjgkwKynQppM7BxxwQL5OrUPSZ5dC6vHHH/+hzz///PNzaP7BD36Qw/1xxx0X3/jGN/KJphSA0/FM7/nUU0/NJyLOOuus/Lx0jNOJgvTeUpeTdJIpher02XbV7Byb1CXkU5/6VP7M0/djhRVWyMc5DTiZWqd0pWXKmDFj4pvf/Gbstdde+TeVTh5VpRMgaZvpvU+aNCnfTp9x+m2stdZauXVGagmQxmxIn9k///nPvH/JI488UvuM0gmJdKzT+h/2WwKgh1QAYB4aPXp0KldX/vWvf810naFDh1Y+8YlP1O4fccQR+TlVv/3tb/P9119/fabbSNtP66TXm9ZnP/vZ/NiZZ545w8fSpeqmm27K637sYx+rjBs3rrb8oosuystPPvnk2rIllliisssuu3zoNme1b+n5aTtVl112WV736KOP7rTe1772tUpdXV3lqaeeqi1L6/Xr16/TsoceeigvP/XUUyuzctJJJ+X1zjvvvNqyyZMnV9Zb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AAAAJMJ/gQ1q1ucfAAAA4b/QBtWa/av8AwAAlJnwX4oB/1T+AQAAykz4L7B+DVMPb8uUSlQqlZ7eHQAAAHqI8F9gTe3hP2ltE/4BAADKSvgvsMaGutrtliltPbovAAAA9Bzhv8Dq6+qioX7qCYDWKSr/AAAAZSX8F1xTe/hX+QcAACgv4b/gGtv7/evzDwAAUF7Cf8E1tff7V/kHAAAoL+G/JCP+p+n+AAAAKKceD/8vvfRS7LTTTjFixIgYMGBArLrqqnHvvffWHk/z0x9++OGxyCKL5Mc33njjePLJJztt480334wdd9wxhgwZEsOGDYs99tgjxo8f32mdhx9+ODbYYIPo379/jBo1Ko477rh59h57UmNtwD+VfwAAgLLq0fD/1ltvxWc+85loamqKq666Kv7973/HCSecEPPPP39tnRTSTznllDjzzDPj7rvvjkGDBsWmm24aEydOrK2Tgv9jjz0W1113XVxxxRVx6623xne+853a4+PGjYtNNtkkllhiibjvvvvi+OOPjyOPPDL+8Ic/RGkq//r8AwAAlFZjT774r3/961yFHz16dG3ZUkst1anqf9JJJ8Whhx4aW221VV527rnnxkILLRSXXXZZbL/99vH444/H1VdfHf/6179i7bXXzuuceuqpscUWW8RvfvObWHTRReP888+PyZMnx1lnnRX9+vWLlVdeOR588ME48cQTO50kKKLG9j7/Kv8AAADl1aOV/8svvzwH9q9//eux4IILxic+8Yn44x//WHv82WefjbFjx+am/lVDhw6NddZZJ+688858P12npv7V4J+k9evr63NLgeo6G264YQ7+Van1wJgxY3Lrg2lNmjQptxboeOmr9PkHAACgR8P/M888E2eccUYst9xycc0118T3vve9+OEPfxjnnHNOfjwF/yRV+jtK96uPpet04qCjxsbGGD58eKd1ZrSNjq/R0bHHHptPMlQvqXVCX6XPPwAAAD0a/tva2mLNNdeMY445Jlf9UxP8PffcM/fv70mHHHJIvPPOO7XLiy++GH2VPv8AAAD0aPhPI/ivtNJKnZatuOKK8cILL+TbCy+8cL5+9dVXO62T7lcfS9evvfZap8dbW1vzDAAd15nRNjq+RkfNzc155oCOl75Kn38AAAB6NPynkf5Tv/uOnnjiiTwqf3XwvxTOb7jhhtrjqf996su/3nrr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/0TlHwAAoFy6VPn/5z//GXfccUf069ev0/Ill1wyXnrppe7aN7qZyj8AAEA5dany39bWFlOmTJlu+X/+85/c/J/e3ee/pU3lHwAAoEy6FP432WSTOOmkkzrNIZ8G+jviiCNiiy226M794yOo/Leq/AMAAJRKl5r9n3DCCbHpppvGSiutFBMnTowddtghnnzyyRg5cmT89a9/7f69pFv7/Lfo8w8AAFAqXQr/iy22WDz00ENxwQUXxMMPP5yr/nvssUfsuOOOnQYApHdR+QcAACinxi4/sbExdtppp+7dGz5STfXtA/7p8w8AAFAqXQr/55577iwf33nnnbu6P3yENPsHAAAopy6F/3333bfT/ZaWlnjvvffy1H8DBw4U/nspzf4BAADKqUuj/b/11ludLqnP/5gxY2L99dc34F8vpvIPAABQTl0K/zOy3HLLxa9+9avpWgXQ+/r8t7ap/AMAAJRJt4X/6iCAL7/8cndukm7UpPIPAABQSl3q83/55Zd3ul+pVOKVV16J0047LT7zmc90177RzRr1+QcAACilLoX/rbfeutP9urq6WGCBBeILX/hCnHDCCd21b3QzlX8AAIBy6lL4bzNPfJ/U2N7nv0XlHwAAoFS6tc8/faPy3+rkDQAAQKl0qfJ/wAEHzPa6J554Yldego9AU8MHlf80TkPqrgEAAEDxdSn8P/DAA/nS0tISyy+/fF72xBNPRENDQ6y55pq19YTL3qWxvfKfTGmrdLoPAABAcXUp/H/5y1+O+eabL84555yYf/7587K33nordtttt9hggw3iRz/6UXfvJ93Y5z9pyeG/R3cHAACA3tznP43of+yxx9aCf5JuH3300Ub778Ua6uuivr3Y32rEfwAAgNLoUvgfN25cvP7669MtT8vefffd7tgv5kG/fwAAAMqhS+H/q1/9am7if8kll8R//vOffPnf//3f2GOPPWKbbbbp/r2k21T7+av8AwAAlEeX+vyfeeaZ8eMf/zh22GGHPOhf3lBjYw7/xx9/fHfvI92oKff7n6LyDwAAUCJdCv8DBw6M3/3udznoP/3003nZMsssE4MGDeru/eMjavbf2qbyDwAAUBZdavZf9corr+TLcsstl4N/mjuevtHsX+UfAACgPLoU/v/73//GRhttFB//+Mdjiy22yCcAktTs3zR/faTyr88/AABAaXQp/O+///7R1NQUL7zwQu4CULXddtvF1Vdf3Z37RzdrbJ/rT+UfAACgPLrU5//aa6+Na665JhZbbLFOy1Pz/+eff7679o2Pcqo/ff4BAABKo0uV/wkTJnSq+Fe9+eab0dzc3B37xUc+1Z/KPwAAQFl0KfxvsMEGce6559bu19XVRVtbWxx33HHx+c9/vks78qtf/SpvZ7/99qstmzhxYuy9994xYsSIGDx4cGy77bbx6quvdnpe6nqw5ZZb5pMRCy64YBx44IHR2traaZ2bb7451lxzzXxiYtlll42zzz47ouyVf33+AQAASqNLzf5TyE8D/t17770xefLkOOigg+Kxxx7Llf/bb799jrf3r3/9K37/+9/HaqutNt3YAldeeWVcfPHFMXTo0Nhnn31im222qb3GlClTcvBfeOGF44477sgDD+688855PIJjjjkmr/Pss8/mdb773e/G+eefHzfccEN8+9vfjkUWWSQ23XTTKGuff5V/AACA8uhS5X+VVVaJJ554ItZff/3YaqutcjeAFMofeOCBWGaZZeZoW+PHj48dd9wx/vjHP8b8889fW/7OO+/En//85zjxxBPjC1/4Qqy11loxevToHPLvuuuu2tgD//73v+O8886LNdZYIzbffPM46qij4vTTT88nJZIzzzwzllpqqTjhhBNixRVXzCcQvva1r8Vvf/vbKCN9/gEAAMpnjsN/S0tLrvq/9tpr8bOf/Swuuuii+Mc//hFHH310rqbPqdSsP1XmN954407L77vvvvxaHZevsMIKsfjii8edd96Z76frVVddNRZaaKHaOqmaP27cuNwSobrOtNtO61S3MSOTJk3K2+h4KVqff83+AQAAymOOm/2nJvUPP/xwt7z4BRdcEPfff39u9j+tsWPHRr9+/WLYsGGdlqegnx6rrtMx+Fcfrz42q3VSoH///fdjwIAB0732scceGz//+c+jyJV/zf4BAADKo0vN/nfaaafcJH9uvPjii7Hvvvvmfvj9+/eP3uSQQw7J3Q6ql7SvRdHU3udfs38AAIDy6NKAf2k0/bPOOiuuv/763Bd/0KBBnR5P/fQ/TGrWn7oOpFH4q9IAfrfeemucdtppcc011+R++2+//Xan6n8a7T8N8Jek63vuuafTdquzAXRcZ9oZAtL9IUOGzLDqn6RZAYo6ZWGjyj8AAEDpzFH4f+aZZ2LJJZeM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en1/13R2aNSoUfkLMmTIkJ7eHWaT49Y3OW59j2PWNzlufZPj1jc5bn2T41bM41apVHL3vUUXnaalaxeVIvyPHDkyGhoa4tVXX+20PN1feOH2ZscdNDc350tHw4YNi74kfXn88Psex61vctz6Hsesb3Lc+ibHrW9y3Pomx614x23o0KHd9jodRkQqrn79+sVaa60VN9xwQ6dqfrrfsRsAAAAAFFEpKv9Jasa/yy67xNprrx2f+tSn8lR/EyZMqI3+DwAAAEVVmvC/3Xbbxeuvvx6HH354jB07NtZYY424+uqrY6GFFooiSd0VjjjiiOm6LdC7OW59k+PW9zhmfZPj1jc5bn2T49Y3OW59U/M8Pm6lGO0fAAAAyqwUff4BAACgzIR/AAAAKDjhHwAAAApO+AcAAICCE/4L5PTTT48ll1wy+vfvH+uss07cc889Pb1LpXLrrbfGl7/85Vh00UWjrq4uLrvssk6Pp7E102wTiyyySAwYMCA23njjePLJJzut8+abb8aOO+4YQ4YMiWHDhsUee+wR48eP77TOww8/HBtssEE+zqNGjYrjjjtunry/Ijr22GPjk5/8ZMw333yx4IILxtZbbx1jxozptM7EiRNj7733jhEjRsTgwYNj2223jVdffbXTOi+88EJsueWWMXDgwLydAw88MFpbWzutc/PNN8eaa66ZR3Nddtll4+yzz54n77GIzjjjjFhttdXy7yRd1ltvvbjqqqtqjztmfcOvfvWr/G/lfvvtV1vm2PU+Rx55ZD5OHS8rrLBC7XHHrPd66aWXYqeddsrHJv3dseqqq8a9995be9zfJb1P+jt+2t9buqTfWOL31jtNmTIlDjvssFhqqaXyb2mZZZaJo446Kv/Get3vLY32T993wQUXVPr161c566yzKo899lhlzz33rAwbNqzy6quv9vSulcY//vGPys9+9rPKJZdckn7plUsvvbTT47/61a8qQ4cOrVx22WWVhx56qPKVr3ylstRSS1Xef//92jqbbbZZZfXVV6/cddddlX/+85+VZZddtvLNb36z9vg777xTWWihhSo77rhj5dFHH6389a9/rQwYMKDy+9//fp6+16LYdNNNK6NHj86f5YMPPljZYostKosvvnhl/PjxtXW++93vVkaNGlW54YYbKvfee29l3XXXrXz605+uPd7a2lpZZZVVKhtvvHHlgQceyN+DkSNHVg455JDaOs8880xl4MCBlQMOOKDy73//u3LqqadWGhoaKldfffU8f89FcPnll1euvPLKyhNPPFEZM2ZM5ac//WmlqakpH8fEMev97rnnnsqSSy5ZWW211Sr77rtvbblj1/scccQRlZVXXrnyyiuv1C6vv/567XHHrHd68803K0sssURl1113rdx99935M77mmmsqTz31VG0df5f0Pq+99lqn39p1112X/6a86aab8uN+b73TL3/5y8qIESMqV1xxReXZZ5+tXHzxxZXBgwdXTj755F73exP+C+JTn/pUZe+9967dnzJlSmXRRRetHHvssT26X2U1bfhva2urLLzwwpXjjz++tuztt9+uNDc35x9ukv4BTs/717/+VVvnqquuqtTV1VVeeumlfP93v/tdZf75569MmjSpts5PfvKTyvLLLz+P3lnx/6ObjsEtt9xSO0YpVKZ/xKsef/zxvM6dd96Z76f/sNbX11fGjh1bW+eMM86oDBkypHacDjrooPzHc0fbbbddPvlA90i/iz/96U+OWR/w7rvvVpZbbrn8R+1nP/vZWvh37Hpv+E9/jM6IY9Z7pb8N1l9//Zk+7u+SviH9+7jMMsvk4+X31nttueWWld13373Tsm222SaH9N72e9PsvwAmT54c9913X24+UlVfX5/v33nnnT26b0z17LPPxtixYzsdo6FDh+buGdVjlK5TE5+11167tk5aPx3Lu+++u7bOhhtuGP369auts+mmm+am6m+99dY8fU9F9M477+Tr4cOH5+v0u2ppael03FJz18UXX7zTcUtNKRdaaKFOx2TcuHHx2GOP1dbpuI3qOn6f3dPU7oILLogJEybk5v+OWe+XmqymJqnTfr6OXe+VmqamLm1LL710bpKamhUnjlnvdfnll+e/J77+9a/npt+f+MQn4o9//GPtcX+X9I2/788777zYfffdc9N/v7fe69Of/nTccMMN8cQTT+T7Dz30UNx2222x+eab97rfm/BfAG+88Ub+A7jjDz1J99MXjZ5XPQ6zOkbpOv0HuqPGxsYcRDuuM6NtdHwNuqatrS33Pf7MZz4Tq6yySu0zTf/Apn+MZ3XcPuyYzGyd9B/j999//yN9X0X1yCOP5P6Oqb/id7/73bj00ktjpZVWcsx6uXSi5v7778/jbUzLseud0h+nqT/w1VdfncfbSH/Epv6m7777rmPWiz3zzDP5eC233HJxzTXXxPe+97344Q9/GOecc05+3N8lvV8aO+rtt9+OXXfdNd/3e+u9Dj744Nh+++3zyZimpqZ8si39TZlOlva231tjl98lQMGqkY8++mg+U0vvt/zyy8eDDz6YW2v8z//8T+yyyy5xyy239PRuMQsvvvhi7LvvvnHdddflgYroG6qVqyQNtJlOBiyxxBJx0UUX5UGr6L0ntFMF8Zhjjsn3UxhJ/40788wz87+X9H5//vOf8+8vtbqhd7vooovi/PPPj7/85S+x8sor579PUvhPx663/d5U/gtg5MiR0dDQMN1on+n+wgsv3GP7xQeqx2FWxyhdv/baa50eT6OzppE/O64zo210fA3m3D777BNXXHFF3HTTTbHYYovVlqfPNDW7S2feZ3XcPuyYzGydNJqrP567JlU/0gjFa621Vq4ir7766nHyySc7Zr1YarKa/o1LI0ynaka6pBM2p5xySr6dqheOXe+Xqo4f//jH46mnnvJ768XSiOKpNVRHK664Yq3Lhr9Lerfnn38+rr/++vj2t79dW+b31nsdeOCBtep/6nbxrW99K/bff/9aK7fe9HsT/gvyR3D6Azj1Nel4xjfdT31g6Xlp6o/0o+x4jFLzqtSHp3qM0nX6Bz39gVx144035mOZKi3VddKUgqnPV1WqoqUq6Pzzzz9P31MRpLEZU/BPTcbTZ52OU0fpd5Wab3U8bqlfVfrjqeNxS03QO/6DnY5J+o9o9Q+vtE7HbVTX8fvsPul3MmnSJMesF9too43y554qItVLqkymZpHV245d75emnXr66adzuPR7671SF7Zpp65N/ZFTq43E3yW92+jRo3MT8DQ+SpXfW+/13nvv5b75HaXCbPqt9Lrf21wMbEgvm+ovjRh59tln59Eiv/Od7+Sp/jqO9slHP4J1mlYlXdJP68QTT8y3n3/++doUH+mY/O1vf6s8/PDDla222mqGU3x84hOfyNPy3HbbbXlE7I5TfKSRQdMUH9/61rfyFB/puKfpWkyp0zXf+9738rQrN998c6epdd57773aOmlanTT934033pin1VlvvfXyZdppdTbZZJM8XWCaKmeBBRaY4bQ6Bx54YB6Z9/TTTzetzlw4+OCD84wMaTqd9FtK99NouNdee21+3DHrOzqO9p84dr3Pj370o/xvZPq93X777XkKsTR1WJodJXHMeu90mo2NjXkKsieffLJy/vnn58/4vPPOq63j75LeKc3YlX5TaRT3afm99U677LJL5WMf+1htqr807Xf6dzLNrNDbfm/Cf4GkeTrTPwj9+vXLU/+lOSKZd9IcrCn0T3tJ/yBUp/k47LDD8o82najZaKON8hzlHf33v//NP/I0N2ialmW33XbLJxU6SnODpul70jbSPzTpHxO6ZkbHK11Gjx5dWyf9o/z9738/T62S/oH96le/mk8QdPTcc89VNt988zzXavrHPv2x3NLSMt33Y4011si/z6WXXrrTazBn0nQ6af7q9FmmP2rSb6ka/BPHrO+Gf8eu90lTgC2yyCL5s0z/zUn3O84V75j1Xn//+99zEEx/L6ywwgqVP/zhD50e93dJ73TNNdfkv0WmPRaJ31vvNG7cuPzfspTD+vfvnz/Tn/3sZ52m5Ostv7e69H9z19ABAAAA6M30+QcAAICCE/4BAACg4IR/AAAAKDjhHwAAAApO+AcAAICCE/4BAACg4IR/AAAAKDjhHwAAAApO+AeAPqiuri4uu+yy2V7/yCOPjDXWWOMj3aeymNPPHgB6A+EfAHqZsWPHxg9+8INYeumlo7m5OUaNGhVf/vKX44YbbujyNn/84x/P1fO7wgkHAOg9Gnt6BwCADzz33HPxmc98JoYNGxbHH398rLrqqtHS0hLXXHNN7L333vF///d/Xdru4MGD86VsJk+eHP369ZtuefpMm5qaemSfAKAnqPwDQC/y/e9/Pzcrv+eee2LbbbeNj3/847HyyivHAQccEHfddddMn/eTn/wkrztw4MDcYuCwww7LAXdmVfhdd901tt566zjmmGNioYUWyicbfvGLX0Rra2sceOCBMXz48FhsscVi9OjRnYL0PvvsE4ssskj0798/llhiiTj22GNn+71VX/M3v/lN3saIESPyCY2O+zlp0qT8XlJrh9TqYdlll40///nP+bGzzz4772dHqfl9+rymfZ9/+tOfYqmllsr7maR1zjjjjPjKV74SgwYNil/+8pd5+d/+9rdYc80183rpc/v5z3+eP4OqJ598MjbccMP8+EorrRTXXXfdbL9fAOhNVP4BoJd488034+qrr87BNAXUaU0bfDuab775cjhedNFF45FHHok999wzLzvooINm+pwbb7wxB/xbb701br/99thjjz3ijjvuyGH37rvvjgsvvDD22muv+OIXv5jXO+WUU+Lyyy+Piy66KBZffPF48cUX82VO3HTTTTn4p+unnnoqtttuuxzW0/4mO++8c9x55535tVZfffV49tln44033pij10jb/d///d+45JJLoqGhodOJgV/96ldx0kknRWNjY/zzn//Mr5dea4MNNoinn346vvOd7+R1jzjiiGhra4ttttkmnxxJn8c777wT++233xztCwD0FsI/APQSKbRWKpVYYYUV5vi5hx56aO32kksumfv4X3DBBbMM/6m6n4JvfX19LL/88nHcccfFe++9Fz/96U/z44ccckgOy7fddltsv/328cILL8Ryyy0X66+/fq6kp8r/nJp//vnjtNNOy6E8vc8tt9wyj0WQwv8TTzyRTyyk6vrGG2+c10/V+DmVWiice+65scACC3RavsMOO8Ruu+1Wu7/77rvHwQcfHLvsskvttY466qj8maXwf/311+duFqnLRTqpkqSWEptvvvkc7xMA9DThHwB6iRT8uypV6VOQT9Xr8ePH56brQ4YMmeVzUneCFPyrUoV7lVVWqd1PAT01zX/ttddqzfZTK4B0omCzzTaLL33pS7HJJpvM0X6m1+xYjU+tAFJLheTBBx/Mj332s5+NuZFOSkwb/JO111670/2HHnoot3iodgFIpkyZEhMnTswnQR5//PHc/aAa/JP11ltvrvYNAHqKPv8A0EukqnqqqM/poH6pmfyOO+4YW2yxRVxxxRXxwAMPxM9+9rNcAZ+VaQe8S689o2Wp+XuS+sanZvipOv7+++/HN77xjfja1742R/s6q+0PGDBgls9NJyqmPUHScbyAqhl1mZjR8nSSJPXxTycdqpd0IiL186+OFQAARaHyDwC9RGqGv+mmm8bpp58eP/zhD6cLq2+//fYM+/2nfvqp2p0Cf9Xzzz//kexjak2Q+umnSwr+qQVAGqsg7fvcSjMbpBMBt9xyS63Zf0epmv/uu+/GhAkTap9NCuxdlU5mjBkzJg8qOCMrrrhiHtPglVdeyS0UklkNuggAvZnwDwC9SAr+aaq/T33qU3n0/dVWWy034U/94NNo9akp+oxaDKT++KmP/yc/+cm48sor49JLL+32fTvxxBNzCP7EJz6Rq/AXX3xxLLzwwrMciHBOpLEKUv/71Be/OuBfOomRuh2kVgbrrLNOns0gjUmQTo6kQfjSIIdddfjhh+euC2nwwnQiI72n1BXg0UcfjaOPPjqfgEgzKKR9StMujhs3rtMJFgDoSzT7B4BeJA06d//998fnP//5+NGPfpT74Kd+9mlQvBT+ZyRNX7f//vvnafjSyPmpJUCa6q+7pdkD0qCAqe98Osnw3HPPxT/+8Y9O4wbMrfQeUxBPUx6mAQHTQICp0p+k1gXnnXdefs3USuCvf/1rHsG/q1Iri9RN4tprr83vZ911143f/va3tYEM0/tKJ1FSF4d0Mubb3/52p/EBAKAvqavMzehCAAAAQK+n8g8AAAAFJ/wDAABAwQn/AAAAUHDCPwAAABSc8A8AAAAFJ/wDAABAwQn/AAAAUHDCPwAAABSc8A8AAAAFJ/wDAABAwQn/AAAAEMX2/wFDEGuSY9BovAAAAABJRU5ErkJggg==",
      "text/plain": [
       "<Figure size 1200x600 with 1 Axes>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Loss Ratio by Pet Breed:\n",
      "           claims_incurred  annual_premium  loss_ratio\n",
      "pet_breed                                             \n",
      "Beagle       137902.014046   772181.360936    0.178588\n",
      "Bulldog      535034.187034   939684.315797    0.569377\n",
      "Labrador     341654.647394   855058.184548    0.399569\n",
      "Mixed        214418.874065   762987.864362    0.281025\n",
      "Poodle       179455.812748   805060.543776    0.222910\n"
     ]
    }
   ],
   "source": [
    "# Exploratory Data Analysis (EDA)\n",
    "plt.figure(figsize=(12, 6))\n",
    "sns.histplot(df['claims_incurred'], bins=50, kde=True)\n",
    "plt.title('Distribution of Claims Incurred')\n",
    "plt.xlabel('Claims Incurred')\n",
    "plt.ylabel('Frequency')\n",
    "plt.show()\n",
    "\n",
    "# Loss ratio by pet breed\n",
    "loss_ratio_breed = df.groupby('pet_breed').agg({'claims_incurred': 'sum', 'annual_premium': 'sum'})\n",
    "loss_ratio_breed['loss_ratio'] = loss_ratio_breed['claims_incurred'] / loss_ratio_breed['annual_premium']\n",
    "print(\"Loss Ratio by Pet Breed:\")\n",
    "print(loss_ratio_breed)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [
    {
     "ename": "ValueError",
     "evalue": "Pandas data cast to numpy dtype of object. Check input data with np.asarray(data).",
     "output_type": "error",
     "traceback": [
      "\u001b[1;31m---------------------------------------------------------------------------\u001b[0m",
      "\u001b[1;31mValueError\u001b[0m                                Traceback (most recent call last)",
      "Cell \u001b[1;32mIn[3], line 6\u001b[0m\n\u001b[0;32m      3\u001b[0m df_glm[\u001b[38;5;124m'\u001b[39m\u001b[38;5;124mclaim_count\u001b[39m\u001b[38;5;124m'\u001b[39m] \u001b[38;5;241m=\u001b[39m df[\u001b[38;5;124m'\u001b[39m\u001b[38;5;124mclaims_incurred\u001b[39m\u001b[38;5;124m'\u001b[39m]\u001b[38;5;241m.\u001b[39mapply(\u001b[38;5;28;01mlambda\u001b[39;00m x: \u001b[38;5;241m1\u001b[39m \u001b[38;5;28;01mif\u001b[39;00m x \u001b[38;5;241m>\u001b[39m \u001b[38;5;241m0\u001b[39m \u001b[38;5;28;01melse\u001b[39;00m \u001b[38;5;241m0\u001b[39m)\n\u001b[0;32m      5\u001b[0m \u001b[38;5;66;03m# Frequency model (Poisson GLM)\u001b[39;00m\n\u001b[1;32m----> 6\u001b[0m freq_model \u001b[38;5;241m=\u001b[39m \u001b[43msm\u001b[49m\u001b[38;5;241;43m.\u001b[39;49m\u001b[43mGLM\u001b[49m\u001b[43m(\u001b[49m\u001b[43mdf_glm\u001b[49m\u001b[43m[\u001b[49m\u001b[38;5;124;43m'\u001b[39;49m\u001b[38;5;124;43mclaim_count\u001b[39;49m\u001b[38;5;124;43m'\u001b[39;49m\u001b[43m]\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mdf_glm\u001b[49m\u001b[43m[\u001b[49m\u001b[43m[\u001b[49m\u001b[38;5;124;43m'\u001b[39;49m\u001b[38;5;124;43mpet_age\u001b[39;49m\u001b[38;5;124;43m'\u001b[39;49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[38;5;124;43m'\u001b[39;49m\u001b[38;5;124;43mpet_breed_Labrador\u001b[39;49m\u001b[38;5;124;43m'\u001b[39;49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[38;5;124;43m'\u001b[39;49m\u001b[38;5;124;43mpet_breed_Mixed\u001b[39;49m\u001b[38;5;124;43m'\u001b[39;49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[38;5;124;43m'\u001b[39;49m\u001b[38;5;124;43mpet_breed_Poodle\u001b[39;49m\u001b[38;5;124;43m'\u001b[39;49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[38;5;124;43m'\u001b[39;49m\u001b[38;5;124;43mlocation_Suburban\u001b[39;49m\u001b[38;5;124;43m'\u001b[39;49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[38;5;124;43m'\u001b[39;49m\u001b[38;5;124;43mlocation_Urban\u001b[39;49m\u001b[38;5;124;43m'\u001b[39;49m\u001b[43m]\u001b[49m\u001b[43m]\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mfamily\u001b[49m\u001b[38;5;241;43m=\u001b[39;49m\u001b[43msm\u001b[49m\u001b[38;5;241;43m.\u001b[39;49m\u001b[43mfamilies\u001b[49m\u001b[38;5;241;43m.\u001b[39;49m\u001b[43mPoisson\u001b[49m\u001b[43m(\u001b[49m\u001b[43m)\u001b[49m\u001b[43m)\u001b[49m\u001b[38;5;241m.\u001b[39mfit()\n\u001b[0;32m      7\u001b[0m \u001b[38;5;28mprint\u001b[39m(\u001b[38;5;124m\"\u001b[39m\u001b[38;5;124m--- GLM Frequency Model Results ---\u001b[39m\u001b[38;5;124m\"\u001b[39m)\n\u001b[0;32m      8\u001b[0m \u001b[38;5;28mprint\u001b[39m(freq_model\u001b[38;5;241m.\u001b[39msummary())\n",
      "File \u001b[1;32m~\\AppData\\Roaming\\Python\\Python313\\site-packages\\statsmodels\\genmod\\generalized_linear_model.py:326\u001b[0m, in \u001b[0;36mGLM.__init__\u001b[1;34m(self, endog, exog, family, offset, exposure, freq_weights, var_weights, missing, **kwargs)\u001b[0m\n\u001b[0;32m    323\u001b[0m \u001b[38;5;28mself\u001b[39m\u001b[38;5;241m.\u001b[39mfreq_weights \u001b[38;5;241m=\u001b[39m freq_weights\n\u001b[0;32m    324\u001b[0m \u001b[38;5;28mself\u001b[39m\u001b[38;5;241m.\u001b[39mvar_weights \u001b[38;5;241m=\u001b[39m var_weights\n\u001b[1;32m--> 326\u001b[0m \u001b[38;5;28;43msuper\u001b[39;49m\u001b[43m(\u001b[49m\u001b[43m)\u001b[49m\u001b[38;5;241;43m.\u001b[39;49m\u001b[38;5;21;43m__init__\u001b[39;49m\u001b[43m(\u001b[49m\u001b[43mendog\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mexog\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mmissing\u001b[49m\u001b[38;5;241;43m=\u001b[39;49m\u001b[43mmissing\u001b[49m\u001b[43m,\u001b[49m\n\u001b[0;32m    327\u001b[0m \u001b[43m                          \u001b[49m\u001b[43moffset\u001b[49m\u001b[38;5;241;43m=\u001b[39;49m\u001b[43moffset\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mexposure\u001b[49m\u001b[38;5;241;43m=\u001b[39;49m\u001b[43mexposure\u001b[49m\u001b[43m,\u001b[49m\n\u001b[0;32m    328\u001b[0m \u001b[43m                          \u001b[49m\u001b[43mfreq_weights\u001b[49m\u001b[38;5;241;43m=\u001b[39;49m\u001b[43mfreq_weights\u001b[49m\u001b[43m,\u001b[49m\n\u001b[0;32m    329\u001b[0m \u001b[43m                          \u001b[49m\u001b[43mvar_weights\u001b[49m\u001b[38;5;241;43m=\u001b[39;49m\u001b[43mvar_weights\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[38;5;241;43m*\u001b[39;49m\u001b[38;5;241;43m*\u001b[39;49m\u001b[43mkwargs\u001b[49m\u001b[43m)\u001b[49m\n\u001b[0;32m    330\u001b[0m \u001b[38;5;28mself\u001b[39m\u001b[38;5;241m.\u001b[39m_check_inputs(family, \u001b[38;5;28mself\u001b[39m\u001b[38;5;241m.\u001b[39moffset, \u001b[38;5;28mself\u001b[39m\u001b[38;5;241m.\u001b[39mexposure, \u001b[38;5;28mself\u001b[39m\u001b[38;5;241m.\u001b[39mendog,\n\u001b[0;32m    331\u001b[0m                    \u001b[38;5;28mself\u001b[39m\u001b[38;5;241m.\u001b[39mfreq_weights, \u001b[38;5;28mself\u001b[39m\u001b[38;5;241m.\u001b[39mvar_weights)\n\u001b[0;32m    332\u001b[0m \u001b[38;5;28;01mif\u001b[39;00m offset \u001b[38;5;129;01mis\u001b[39;00m \u001b[38;5;28;01mNone\u001b[39;00m:\n",
      "File \u001b[1;32m~\\AppData\\Roaming\\Python\\Python313\\site-packages\\statsmodels\\base\\model.py:270\u001b[0m, in \u001b[0;36mLikelihoodModel.__init__\u001b[1;34m(self, endog, exog, **kwargs)\u001b[0m\n\u001b[0;32m    269\u001b[0m \u001b[38;5;28;01mdef\u001b[39;00m \u001b[38;5;21m__init__\u001b[39m(\u001b[38;5;28mself\u001b[39m, endog, exog\u001b[38;5;241m=\u001b[39m\u001b[38;5;28;01mNone\u001b[39;00m, \u001b[38;5;241m*\u001b[39m\u001b[38;5;241m*\u001b[39mkwargs):\n\u001b[1;32m--> 270\u001b[0m     \u001b[38;5;28;43msuper\u001b[39;49m\u001b[43m(\u001b[49m\u001b[43m)\u001b[49m\u001b[38;5;241;43m.\u001b[39;49m\u001b[38;5;21;43m__init__\u001b[39;49m\u001b[43m(\u001b[49m\u001b[43mendog\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mexog\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[38;5;241;43m*\u001b[39;49m\u001b[38;5;241;43m*\u001b[39;49m\u001b[43mkwargs\u001b[49m\u001b[43m)\u001b[49m\n\u001b[0;32m    271\u001b[0m     \u001b[38;5;28mself\u001b[39m\u001b[38;5;241m.\u001b[39minitialize()\n",
      "File \u001b[1;32m~\\AppData\\Roaming\\Python\\Python313\\site-packages\\statsmodels\\base\\model.py:95\u001b[0m, in \u001b[0;36mModel.__init__\u001b[1;34m(self, endog, exog, **kwargs)\u001b[0m\n\u001b[0;32m     93\u001b[0m missing \u001b[38;5;241m=\u001b[39m kwargs\u001b[38;5;241m.\u001b[39mpop(\u001b[38;5;124m'\u001b[39m\u001b[38;5;124mmissing\u001b[39m\u001b[38;5;124m'\u001b[39m, \u001b[38;5;124m'\u001b[39m\u001b[38;5;124mnone\u001b[39m\u001b[38;5;124m'\u001b[39m)\n\u001b[0;32m     94\u001b[0m hasconst \u001b[38;5;241m=\u001b[39m kwargs\u001b[38;5;241m.\u001b[39mpop(\u001b[38;5;124m'\u001b[39m\u001b[38;5;124mhasconst\u001b[39m\u001b[38;5;124m'\u001b[39m, \u001b[38;5;28;01mNone\u001b[39;00m)\n\u001b[1;32m---> 95\u001b[0m \u001b[38;5;28mself\u001b[39m\u001b[38;5;241m.\u001b[39mdata \u001b[38;5;241m=\u001b[39m \u001b[38;5;28;43mself\u001b[39;49m\u001b[38;5;241;43m.\u001b[39;49m\u001b[43m_handle_data\u001b[49m\u001b[43m(\u001b[49m\u001b[43mendog\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mexog\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mmissing\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mhasconst\u001b[49m\u001b[43m,\u001b[49m\n\u001b[0;32m     96\u001b[0m \u001b[43m                              \u001b[49m\u001b[38;5;241;43m*\u001b[39;49m\u001b[38;5;241;43m*\u001b[39;49m\u001b[43mkwargs\u001b[49m\u001b[43m)\u001b[49m\n\u001b[0;32m     97\u001b[0m \u001b[38;5;28mself\u001b[39m\u001b[38;5;241m.\u001b[39mk_constant \u001b[38;5;241m=\u001b[39m \u001b[38;5;28mself\u001b[39m\u001b[38;5;241m.\u001b[39mdata\u001b[38;5;241m.\u001b[39mk_constant\n\u001b[0;32m     98\u001b[0m \u001b[38;5;28mself\u001b[39m\u001b[38;5;241m.\u001b[39mexog \u001b[38;5;241m=\u001b[39m \u001b[38;5;28mself\u001b[39m\u001b[38;5;241m.\u001b[39mdata\u001b[38;5;241m.\u001b[39mexog\n",
      "File \u001b[1;32m~\\AppData\\Roaming\\Python\\Python313\\site-packages\\statsmodels\\base\\model.py:135\u001b[0m, in \u001b[0;36mModel._handle_data\u001b[1;34m(self, endog, exog, missing, hasconst, **kwargs)\u001b[0m\n\u001b[0;32m    134\u001b[0m \u001b[38;5;28;01mdef\u001b[39;00m \u001b[38;5;21m_handle_data\u001b[39m(\u001b[38;5;28mself\u001b[39m, endog, exog, missing, hasconst, \u001b[38;5;241m*\u001b[39m\u001b[38;5;241m*\u001b[39mkwargs):\n\u001b[1;32m--> 135\u001b[0m     data \u001b[38;5;241m=\u001b[39m \u001b[43mhandle_data\u001b[49m\u001b[43m(\u001b[49m\u001b[43mendog\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mexog\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mmissing\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mhasconst\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[38;5;241;43m*\u001b[39;49m\u001b[38;5;241;43m*\u001b[39;49m\u001b[43mkwargs\u001b[49m\u001b[43m)\u001b[49m\n\u001b[0;32m    136\u001b[0m     \u001b[38;5;66;03m# kwargs arrays could have changed, easier to just attach here\u001b[39;00m\n\u001b[0;32m    137\u001b[0m     \u001b[38;5;28;01mfor\u001b[39;00m key \u001b[38;5;129;01min\u001b[39;00m kwargs:\n",
      "File \u001b[1;32m~\\AppData\\Roaming\\Python\\Python313\\site-packages\\statsmodels\\base\\data.py:675\u001b[0m, in \u001b[0;36mhandle_data\u001b[1;34m(endog, exog, missing, hasconst, **kwargs)\u001b[0m\n\u001b[0;32m    672\u001b[0m     exog \u001b[38;5;241m=\u001b[39m np\u001b[38;5;241m.\u001b[39masarray(exog)\n\u001b[0;32m    674\u001b[0m klass \u001b[38;5;241m=\u001b[39m handle_data_class_factory(endog, exog)\n\u001b[1;32m--> 675\u001b[0m \u001b[38;5;28;01mreturn\u001b[39;00m \u001b[43mklass\u001b[49m\u001b[43m(\u001b[49m\u001b[43mendog\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mexog\u001b[49m\u001b[38;5;241;43m=\u001b[39;49m\u001b[43mexog\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mmissing\u001b[49m\u001b[38;5;241;43m=\u001b[39;49m\u001b[43mmissing\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mhasconst\u001b[49m\u001b[38;5;241;43m=\u001b[39;49m\u001b[43mhasconst\u001b[49m\u001b[43m,\u001b[49m\n\u001b[0;32m    676\u001b[0m \u001b[43m             \u001b[49m\u001b[38;5;241;43m*\u001b[39;49m\u001b[38;5;241;43m*\u001b[39;49m\u001b[43mkwargs\u001b[49m\u001b[43m)\u001b[49m\n",
      "File \u001b[1;32m~\\AppData\\Roaming\\Python\\Python313\\site-packages\\statsmodels\\base\\data.py:84\u001b[0m, in \u001b[0;36mModelData.__init__\u001b[1;34m(self, endog, exog, missing, hasconst, **kwargs)\u001b[0m\n\u001b[0;32m     82\u001b[0m     \u001b[38;5;28mself\u001b[39m\u001b[38;5;241m.\u001b[39morig_endog \u001b[38;5;241m=\u001b[39m endog\n\u001b[0;32m     83\u001b[0m     \u001b[38;5;28mself\u001b[39m\u001b[38;5;241m.\u001b[39morig_exog \u001b[38;5;241m=\u001b[39m exog\n\u001b[1;32m---> 84\u001b[0m     \u001b[38;5;28mself\u001b[39m\u001b[38;5;241m.\u001b[39mendog, \u001b[38;5;28mself\u001b[39m\u001b[38;5;241m.\u001b[39mexog \u001b[38;5;241m=\u001b[39m \u001b[38;5;28;43mself\u001b[39;49m\u001b[38;5;241;43m.\u001b[39;49m\u001b[43m_convert_endog_exog\u001b[49m\u001b[43m(\u001b[49m\u001b[43mendog\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mexog\u001b[49m\u001b[43m)\u001b[49m\n\u001b[0;32m     86\u001b[0m \u001b[38;5;28mself\u001b[39m\u001b[38;5;241m.\u001b[39mconst_idx \u001b[38;5;241m=\u001b[39m \u001b[38;5;28;01mNone\u001b[39;00m\n\u001b[0;32m     87\u001b[0m \u001b[38;5;28mself\u001b[39m\u001b[38;5;241m.\u001b[39mk_constant \u001b[38;5;241m=\u001b[39m \u001b[38;5;241m0\u001b[39m\n",
      "File \u001b[1;32m~\\AppData\\Roaming\\Python\\Python313\\site-packages\\statsmodels\\base\\data.py:509\u001b[0m, in \u001b[0;36mPandasData._convert_endog_exog\u001b[1;34m(self, endog, exog)\u001b[0m\n\u001b[0;32m    507\u001b[0m exog \u001b[38;5;241m=\u001b[39m exog \u001b[38;5;28;01mif\u001b[39;00m exog \u001b[38;5;129;01mis\u001b[39;00m \u001b[38;5;28;01mNone\u001b[39;00m \u001b[38;5;28;01melse\u001b[39;00m np\u001b[38;5;241m.\u001b[39masarray(exog)\n\u001b[0;32m    508\u001b[0m \u001b[38;5;28;01mif\u001b[39;00m endog\u001b[38;5;241m.\u001b[39mdtype \u001b[38;5;241m==\u001b[39m \u001b[38;5;28mobject\u001b[39m \u001b[38;5;129;01mor\u001b[39;00m exog \u001b[38;5;129;01mis\u001b[39;00m \u001b[38;5;129;01mnot\u001b[39;00m \u001b[38;5;28;01mNone\u001b[39;00m \u001b[38;5;129;01mand\u001b[39;00m exog\u001b[38;5;241m.\u001b[39mdtype \u001b[38;5;241m==\u001b[39m \u001b[38;5;28mobject\u001b[39m:\n\u001b[1;32m--> 509\u001b[0m     \u001b[38;5;28;01mraise\u001b[39;00m \u001b[38;5;167;01mValueError\u001b[39;00m(\u001b[38;5;124m\"\u001b[39m\u001b[38;5;124mPandas data cast to numpy dtype of object. \u001b[39m\u001b[38;5;124m\"\u001b[39m\n\u001b[0;32m    510\u001b[0m                      \u001b[38;5;124m\"\u001b[39m\u001b[38;5;124mCheck input data with np.asarray(data).\u001b[39m\u001b[38;5;124m\"\u001b[39m)\n\u001b[0;32m    511\u001b[0m \u001b[38;5;28;01mreturn\u001b[39;00m \u001b[38;5;28msuper\u001b[39m()\u001b[38;5;241m.\u001b[39m_convert_endog_exog(endog, exog)\n",
      "\u001b[1;31mValueError\u001b[0m: Pandas data cast to numpy dtype of object. Check input data with np.asarray(data)."
     ]
    }
   ],
   "source": [
    "# GLM for Pricing\n",
    "df_glm = pd.get_dummies(df, columns=['pet_breed', 'location', 'coverage_level'], drop_first=True, dtype=int)\n",
    "df_glm['claim_count'] = df['claims_incurred'].apply(lambda x: 1 if x > 0 else 0)\n",
    "\n",
    "# Define features for the model\n",
    "features = ['pet_age', 'pet_breed_Labrador', 'pet_breed_Mixed', 'pet_breed_Poodle', 'location_Suburban', 'location_Urban']\n",
    "X = sm.add_constant(df_glm[features])\n",
    "\n",
    "# Frequency model (Poisson GLM)\n",
    "freq_model = sm.GLM(df_glm['claim_count'], X, family=sm.families.Poisson()).fit()\n",
    "print(\"--- GLM Frequency Model Results ---\")\n",
    "print(freq_model.summary())\n",
    "\n",
    "# Severity model (Gamma GLM)\n",
    "df_sev = df[df['claims_incurred'] > 0]\n",
    "df_glm_sev = df_glm.loc[df_sev.index]\n",
    "X_sev = sm.add_constant(df_glm_sev[features])\n",
    "\n",
    "sev_model = sm.GLM(df_sev['claims_incurred'], X_sev, family=sm.families.Gamma(link=sm.families.links.log())).fit()\n",
    "print(\"--- GLM Severity Model Results ---\")\n",
    "print(sev_model.summary())"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## 4. Reserving Analysis\n",
    "Here, we'll use the chain-ladder method to estimate the ultimate losses and calculate the Incurred But Not Reported (IBNR) reserves. This is a crucial step in ensuring the financial health of the insurer."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Create a sample claims dataset for reserving\n",
    "claims_data = {\n",
    "    'accident_year': np.random.randint(2018, 2022, 1000),\n",
    "    'development_lag': np.random.randint(1, 5, 1000),\n",
    "    'paid_losses': np.random.randint(100, 5000, 1000)\n",
    "}\n",
    "claims_df = pd.DataFrame(claims_data)\n",
    "claims_df['paid_losses'] = claims_df.groupby(['accident_year', 'development_lag'])['paid_losses'].transform('sum')\n",
    "claims_df = claims_df.drop_duplicates()\n",
    "\n",
    "# Create loss triangle\n",
    "loss_triangle = claims_df.pivot(index='accident_year', columns='development_lag', values='paid_losses').fillna(0)\n",
    "print(\"--- Loss Development Triangle ---\")\n",
    "print(loss_triangle)\n",
    "\n",
    "# Chain-Ladder Method\n",
    "def chain_ladder(triangle):\n",
    "    triangle = triangle.copy()\n",
    "    for i in range(triangle.shape[1] - 1):\n",
    "        col1 = triangle.iloc[:, i]\n",
    "        col2 = triangle.iloc[:, i+1]\n",
    "        factor = col2.sum() / col1.sum()\n",
    "        for j in range(triangle.shape[0] - (i + 1)):\n",
    "            triangle.iloc[j, i+1] = triangle.iloc[j, i] * factor\n",
    "    return triangle\n",
    "\n",
    "projected_triangle = chain_ladder(loss_triangle)\n",
    "print(\"--- Projected Loss Triangle (Chain-Ladder) ---\")\n",
    "print(projected_triangle)\n",
    "\n",
    "# Calculate ultimate losses and IBNR\n",
    "ultimate_losses = projected_triangle.iloc[:, -1]\n",
    "paid_to_date = loss_triangle.max(axis=1)\n",
    "ibnr = ultimate_losses - paid_to_date\n",
    "\n",
    "reserves = pd.DataFrame({'Ultimate Losses': ultimate_losses, 'Paid to Date': paid_to_date, 'IBNR': ibnr})\n",
    "print(\"\\n--- Reserve Estimation ---\")\n",
    "print(reserves)\n",
    "print(f\"\\nTotal IBNR Reserves: ${reserves['IBNR'].sum():,.2f}\")"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## 5. Conclusion and Next Steps\n",
    "This analysis provides a comprehensive actuarial framework for Pawtect Insurance's new pet insurance product. The ratemaking model offers a data-driven approach to pricing, while the reserving analysis ensures the company's solvency.\n",
    "\n",
    "**Next Steps:**\n",
    "* Implement the proposed premium structure and monitor its performance.\n",
    "* Incorporate external data, such as veterinary cost inflation, to enhance the models.\n",
    "* Develop a more sophisticated reserving model using claim-level data."
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.13.5"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 4
}
